<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
	<title>Display a map</title>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
		integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
	<!-- Make sure you put this AFTER Leaflet's CSS -->
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
		integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	<script src="marcadores.js"></script>
	<style>
		#map {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
		}
	</style>
</head>

<body>
	<div id="map">

	</div>
	<script>
		// URL de la imagen del mapa
		var imageUrl = 'https://media.wizards.com/2015/images/dnd/resources/Sword-Coast-Map_HighRes.jpg';

		// Coordenadas del mapa
		var imageBounds = [
			[0, 0], // Esquina superior izquierda
			[510, 330] // Esquina inferior derecha
		];

		// Crear el mapa
		var map = L.map('map');

		// Añadir la imagen como un overlay
		L.imageOverlay(imageUrl, imageBounds).addTo(map);

		// Establecer la vista del mapa y el nivel de zoom
		map.setView([66.231457, 165.234375], 3); // Ajusta las coordenadas y el nivel de zoom según sea necesario

		var markers = [];

		markersData.forEach(function(markerData) {
			var marker = {
				city: markerData.city,
				coordenadas: markerData.coordenadas
			};
			markers.push(marker);
		});

		markers.forEach(function(marker) {
			// Coordenadas del marcador
			var markerCoords = marker.coordenadas;

			// Crear el marcador
			var newMarker = L.marker(markerCoords).addTo(map);

			// Contenido del popup (texto y enlace)
			var popupContent = '<h2>' + marker.city + '</h2><p><a href="./Almanaque del mundo/' + marker.city + '/">Nota sobre ' + marker.city + '</a></p>';

			// Agregar popup al marcador
			newMarker.bindPopup(popupContent);
		});

		var popup = L.popup();

		function onMapClick(e) {
			popup
				.setLatLng(e.latlng)
				.setContent("You clicked the map at " + e.latlng.toString())
				.openOn(map);
		}

		map.on('click', onMapClick);
	</script>
</body>

</html>